<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="color-scheme" content="light dark">
		<link blocking="render" rel="stylesheet" href="assets/css/base.css">

		<!-- Thanks be to https://realfavicongenerator.net -->
		<link rel="icon" href="favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png" />
		<link rel="manifest" href="site.webmanifest" />
		<link rel="mask-icon" href="assets/favicon/safari-pinned-tab.svg" color="#5bbad5" />
		<meta name="msapplication-TileColor" content="#da532c" />
		<meta name="theme-color" content="#ffffff" />

		<script src="assets/js/signature-verify.js" type="module"></script>

		<title>Verify Signature</title>
	</head>

	<body>
		<header>
			<h1>Verify Signature</h1>

			<nav>
				<label for="">Site Navigation</label>
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="signature-create.html">Sign Text</a></li>
					<li><a href="signature-verify.html">Verify Signature</a></li>
					<li><a href="terms-of-use.html">ToS</a></li>
				</ul>
			</nav>
		</header>

		<main>
			<form action="" id="form__verify">
				<label for="textarea__signature_public_address">Expected Address</label>
				<br />
				<textarea id="textarea__signature_public_address" name="public_address" form="form__verify" cols="30" rows="1" required></textarea>
				<br />

				<label for="textarea__signature_message">Message</label>
				<br />
				<textarea id="textarea__signature_message" name="signature_message" form="form__verify" cols="30" rows="10" required></textarea>
				<br />

				<label for="textarea__signature_input">Signature</label>
				<br />
				<textarea id="textarea__signature_input" name="signature_input" form="form__verify" cols="30" rows="1" required></textarea>
				<br />

				<button id="button__verify">Verify</button>
			</form>

			<div id="verification_result__container">
				<label for="textarea__verification_result">Verification results</label>
				<textarea id="textarea__verification_result" name="verification_result" cols="30" placeholder="Undefined" readonly></textarea>
			</div>

			<style>
				#form__verify,
				#verification_result__container {
					& label {
						display: inline-block;
					}

					& textarea,
					& label {
						width: 100%;
					}
				}

				#verification_result__container {
					&:has(#textarea__verification_result:placeholder-shown) {
						display: none;
					}

					& #textarea__verification_result {
						font-family: monospace, monospace;

						&[data-valid='true'] {
							border: 0.2em solid lime;
						}

						&[data-valid='false'] {
							border: 0.2em solid red;
						}
					}
				}
			</style>

			<hr>
			<section>
				<header>
					<h2>Usage instructions</h2>
				</header>

				<article>
					<label for="textarea__signature_public_address">
						<h3>Expected Address</h3>
					</label>

					<p>
						Input the public address/key you expect to be associated with the
						signed message.
					</p>
				</article>

				<article>
					<label for="textarea__signature_message">
						<h3>Message</h3>
					</label>

					<p>
						Input the message you wish to verify the signature of.
					</p>
				</article>

				<article>
					<label for="textarea__signature_input">
						<h3>Signature</h3>
					</label>

					<p>
						Input the signature associated that you expect to be associated
						with the public key/address and message.
					</p>
				</article>

				<article>
					<h3>Notes</h3>

					<p>
						<strong>Warning</strong> newline, and other invisible, characters
						are important!  So if results show an unexpected failure to verify
						the signature, then please double-check the text input matches the
						text intended.
					</p>
				</article>
			</section>
		</main>

		<footer>
			<nav>
				<ul>
					<li><a href="https://github.com/S0AndS0">Author: S0AndS0</a></li>
					<li><a href="https://github.com/web-dev-examples/ecdsa-tools">Source code: GitHub</a></li>
				</ul>
			</nav>
			<span id="copywrite">Copyright Â© Some Rights Reserved</span>
		</footer>
	</body>
</html>
